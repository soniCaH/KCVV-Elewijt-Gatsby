[build]
  base = ""
  publish = "public/"
  # Default build command.
  command = "yarn run build"

[[headers]]
  for = "/*"

  [headers.values]
    cache-control = '''
    max-age=0,
    no-cache,
    no-store,
    must-revalidate'''

[[plugins]]
  package = "netlify-plugin-gatsby-cache"

[[plugins]]
  package = "@netlify/plugin-sitemap"

  [plugins.inputs]
    buildDir = "public"
    prettyURLs = true
    exclude = [
      # By file Path
      '**/**/styleguide/**/*.html',
      '**/**/styleguide/design/*.html',
      '**/**/offline-plugin-app-shell-fallback/*.html',
      './public/offline-plugin-app-shell-fallback/index.html'
    ]

[[plugins]]
  package = "netlify-plugin-checklinks"

  [plugins.inputs]
  # Report on all broken links to external pages.
  # Enabling this will make your tests more brittle, since you can't control
  # external pages.
  checkExternal = true
